
## Вариант 5. Система управления больницей

### 1. Цель и описание
Создать систему управления данными больницы, включая пациентов, врачей и приёмы (записи о визитах).

### 2. Структура БД
- **Таблица `patients`:**
    - `id` – SERIAL PRIMARY KEY
    - `first_name` – VARCHAR(50)
    - `last_name` – VARCHAR(50)
    - `birth_date` – DATE
    - `phone` – VARCHAR(20)

- **Таблица `doctors`:**
    - `id` – SERIAL PRIMARY KEY
    - `first_name` – VARCHAR(50)
    - `last_name` – VARCHAR(50)
    - `specialty` – VARCHAR(100)
    - `phone` – VARCHAR(20)

- **Таблица `appointments`:**
    - `id` – SERIAL PRIMARY KEY
    - `patient_id` – INT REFERENCES patients(id)
    - `doctor_id` – INT REFERENCES doctors(id)
    - `appointment_date` – TIMESTAMP
    - `diagnosis` – TEXT

### 3. Наполнение данными
- Добавьте не менее 10 пациентов.
- Добавьте не менее 5 врачей.
- Создайте не менее 20 записей о приёмах, связывающих пациентов с врачами.

### 4. SQL‑запросы

**Уровень 1 (базовые запросы):**
- Выборка всех пациентов, отсортированных по фамилии.
 
- Выборка врачей по определённой специальности.
  
- Выборка приёмов, состоявшихся после определённой даты.
  

**Уровень 2 (запросы среднего уровня):**
- Подсчёт количества приёмов для каждого врача.
  
- Выборка пациентов, у которых количество приёмов больше заданного числа.
- Вычисление средней продолжительности приёма (если добавить поле, например, `duration`).

**Уровень 3 (запросы с JOIN):**
- Объединение таблиц `patients` и `appointments` для получения информации о пациентах и датах их визитов.
- Объединение таблиц `doctors` и `appointments` для получения информации о враче и диагностике.
- Сложный запрос: вывод списка пациентов с информацией об их врачах и количеством приёмов, где количество визитов превышает заданное значение.

---