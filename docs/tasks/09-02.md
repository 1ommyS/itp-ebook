
## Вариант 2. Интернет-магазин

### 1. Цель и описание
Создать систему для управления данными об интернет-магазине, включая информацию о продуктах, клиентах и заказах.

### 2. Структура БД
- **Таблица `products`:**
    - `id` – SERIAL PRIMARY KEY
    - `product_name` – VARCHAR(100)
    - `description` – TEXT
    - `price` – NUMERIC(10,2)
    - `stock` – INT

- **Таблица `customers`:**
    - `id` – SERIAL PRIMARY KEY
    - `first_name` – VARCHAR(50)
    - `last_name` – VARCHAR(50)
    - `email` – VARCHAR(100)
    - `phone` – VARCHAR(20)

- **Таблица `orders`:**
    - `id` – SERIAL PRIMARY KEY
    - `customer_id` – INT REFERENCES customers(id)
    - `order_date` – DATE
    - `total_amount` – NUMERIC(10,2)

- **Таблица `order_items`:**
    - `id` – SERIAL PRIMARY KEY
    - `order_id` – INT REFERENCES orders(id)
    - `product_id` – INT REFERENCES products(id)
    - `quantity` – INT
    - `price` – NUMERIC(10,2)

### 3. Наполнение данными
- Добавьте не менее 10 продуктов.
- Добавьте не менее 8 клиентов.
- Создайте не менее 15 заказов.
- Для каждого заказа создайте от 1 до 5 позиций в `order_items`.

### 4. SQL‑запросы

**Уровень 1 (базовые запросы):**
- Выборка всех продуктов с сортировкой по цене.
- Выборка клиентов, фамилия которых начинается на заданную букву.
  
- Выборка заказов, где сумма заказа превышает определённую величину.
  

**Уровень 2 (запросы среднего уровня):**
- Выборка заказов определённого клиента (подзапрос).
  
- Группировка заказов по датам с подсчётом количества заказов в день. 
- Вычисление общей выручки по каждому продукту.

**Уровень 3 (запросы с JOIN):**
- Объединение таблиц `orders` и `customers` для получения полной информации о заказе и клиенте.
- Объединение таблиц `orders`, `order_items` и `products` для получения информации по заказанным продуктам.
- Сложный запрос: список клиентов с суммарными затратами, где суммарная сумма превышает заданное значение.

---